<script>
    let map = new Map()
    function deepClone(obj){
        let res = {}
        if(map.get(obj)) return map.get(obj)
        map.set(obj,res)
        Object.keys(obj).forEach(k=> {
            if(typeof(obj[k]) === 'Object'){
                res[k] = deepClone(obj[k])
            }else{
                res[k] = obj[k]
            }
        })
        return res
    }
    let obj = {a:1,b:{b:1}}
    obj.t = obj
    let obj2 = deepClone(obj)
    console.log(obj,obj2 )
</script>