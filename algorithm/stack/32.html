<script>
    // 先进后出 后进先出 
    // 栈顶在最后 
    var longestValidParentheses = function (s) {
        let max_len = 0;
        let stack = [-1]; //栈顶初始化
        for (let i = 0; i < s.length; i++) {
            if (s[i] == '(') {  // 左括号入栈
                stack.push(i)
            } else {
                stack.pop()     //右括号出栈
                if (stack.length == 0) {
                    stack.push(i)
                } else {
                    max_len = Math.max(max_len, i - stack[stack.length - 1])
                }
            }
        }
        return max_len
    };
    
</script>