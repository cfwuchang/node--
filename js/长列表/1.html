<ul id="content">

</ul>

<script>
    const container = document.getElementById('content');
    let total = 100000;
    // for(let i = 0;i<total;i++){
    //     let li = document.createElement('li');
    //     li.innerText=i;
    //     container.appendChild(li)
    // }

    //分类 上拉加载
    let once = 20;
    let index = 0;
    // let page = total/once;
    // curTotal当前剩余总数
    function page(curTotal) {
        if (curTotal <= 0) return 0;
        // 如果剩下的不够20
        let pageCount = Math.min(curTotal, once)
        for (let i = 0; i < pageCount; i++) {
            const li = document.createElement('li');
            li.innerText = Math.random()
            container.appendChild(li);
        }
        // 下载下一页
        // 事件分片 rAF
        setTimeout(() => {
            page(curTotal - pageCount);
        }, 16)
    }
    page(total)

</script>